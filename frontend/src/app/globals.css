/* =========================
   Tailwind v4 import
   ========================= */
@import "tailwindcss";

/* =========================
   Базовая тема
   ========================= */
:root { color-scheme: dark; }
html, body { height: 100%; max-width: 100vw; overflow-x: clip;}
body{
  background:#0A0A0F;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 1) никогда не фиксируем высоту страницы */
html, body {
  height: auto !important;
  min-height: 100% !important;
  overflow: auto !important;
}

/* 2) если когда-то модалка/ленис оставили инлайн-стили — перебиваем */
body[style*="position: fixed"] {
  position: static !important;
  top: auto !important;
  width: auto !important;
  overflow: auto !important;
}

/* 3) Lenis: не ломай нативный scroll-behavior */
.lenis.lenis-smooth { scroll-behavior: auto; }

/* 4) защищаем вертикальную прокрутку, даже если внутри есть горизонтальные карусели */
[data-lenis-prevent] { overscroll-behavior: contain; }

/* 5) на всякий — не ограничиваем высоту основных контейнеров */
#__next, main, [data-nextjs-scroll-focus-boundary] {
  min-height: auto !important;
  height: auto !important;
}

/* 6) секции: никакого overflow:hidden по умолчанию */
.oc-section {
  overflow: visible !important;
}

/* 7) небольшой безопасный отступ внизу страницы, чтобы было куда докрутить */
body::after {
  content: "";
  display: block;
  height: max(24px, env(safe-area-inset-bottom));
}


@supports not (overflow: clip) {
  html, body { overflow-x: hidden; } /* фолбэк для старых браузеров */
}

::selection{ background:rgba(255,255,255,.14); color:#fff; }

/* скроллбары */
*{ scrollbar-color: rgba(255,255,255,.25) transparent; }
*::-webkit-scrollbar{ width:8px; height:8px; }
*::-webkit-scrollbar-thumb{ background:rgba(255,255,255,.25); border-radius:999px; }
*::-webkit-scrollbar-track{ background:transparent; }


/*! Лочу горизонтальный скрол */
/* никогда не даём ширине «убежать» за экран */
html, body {
  width: 100%;
  max-width: 100%;
  overflow-x: clip; /* лучше, чем hidden: не ломает sticky */
}

/* на всякий случай для старых браузеров */
@supports not (overflow-x: clip) {
  html, body { overflow-x: hidden; }
}

/* полезные дефолты */
* { box-sizing: border-box; }
img, video { max-width: 100%; height: auto; }



/* =========================
   Премиальный фон (Aurora Silk)
   ========================= */

/* 1) Aurora Silk — мягкие «облака» */
.oc-aurora{
  position:absolute; inset:-8%;
  background:
    radial-gradient(60% 50% at 18% 22%, rgba(78,191,255,.16) 0, transparent 60%),
    radial-gradient(50% 45% at 75% 28%, rgba(241,90,255,.14) 0, transparent 58%),
    radial-gradient(55% 55% at 62% 78%, rgba(120,255,194,.12) 0, transparent 60%),
    radial-gradient(40% 60% at 30% 70%, rgba(255,170,120,.08) 0, transparent 60%);
  filter: blur(80px) saturate(120%);
  transform-origin:50% 50%;
  animation: oc-aurora-rotate 60s linear infinite;
}
@keyframes oc-aurora-rotate{
  0%{transform:rotate(0deg) scale(1)}
  50%{transform:rotate(180deg) scale(1.02)}
  100%{transform:rotate(360deg) scale(1)}
}

/* 2) Едва заметный «шёлковый» блик */
.oc-sheen{
  position:absolute; inset:-20%;
  background: repeating-linear-gradient(125deg,
     rgba(255,255,255,.035) 0 2px, transparent 2px 10px);
  background-size:200% 200%;
  mix-blend-mode:overlay;
  opacity:.28;
  animation: oc-sheen-move 18s ease-in-out infinite alternate;
}
@keyframes oc-sheen-move{
  0%{transform:translate3d(-2%,-2%,0)}
  100%{transform:translate3d(2%,2%,0)}
}

/* 3) Тонкая инженерная сетка */
.oc-finegrid{
  position:absolute; inset:0;
  background:
    linear-gradient(transparent,transparent calc(100% - 1px), rgba(255,255,255,.09) 0),
    linear-gradient(90deg, transparent,transparent calc(100% - 1px), rgba(255,255,255,.09) 0);
  background-size:96px 96px, 96px 96px;
  opacity:.10;
}

/* 4) Лёгкое зерно */
.oc-noise{
  position:absolute; inset:0;
  background-image:
    radial-gradient(circle at 25% 15%, rgba(255,255,255,.06) 0 1px, transparent 2px),
    radial-gradient(circle at 75% 85%, rgba(255,255,255,.06) 0 1px, transparent 2px);
  background-size:3px 3px, 4px 4px;
  mix-blend-mode:soft-light; opacity:.22;
}

/* 5) Мягкая виньетка */
.oc-vignette{
  position:absolute; inset:0; pointer-events:none;
  background: radial-gradient(140% 120% at 50% 46%, transparent 92%, rgba(0,0,0,.28) 100%);
}

/* respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .oc-aurora, .oc-sheen{ animation:none !important; }
}

/* =========================
   Утилиты интерфейса
   ========================= */
.glass{
  backdrop-filter: blur(12px);
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.12);
  box-shadow: 0 1px 0 rgba(255,255,255,.06) inset, 0 10px 30px rgba(0,0,0,.35);
}

.hsnap{
  overflow-x:auto; overflow-y:hidden;
  scroll-snap-type:x mandatory;
  scroll-behavior:smooth;
  -webkit-overflow-scrolling:touch;
}
.hpanel{ scroll-snap-align:center; }

.film-perf{
  --dot: radial-gradient(circle at 50% 50%, rgba(0,0,0,.9) 0 3px, transparent 4px) center/28px 1.25rem repeat-x;
  background: var(--dot) top left, var(--dot) bottom left;
}

.glitch-overlay{
  position:fixed; inset:0; z-index:50; pointer-events:none;
  background: repeating-linear-gradient(180deg,
    rgba(255,255,255,.06) 0px, rgba(255,255,255,.06) 2px,
    rgba(0,0,0,.08) 3px, rgba(0,0,0,.08) 4px);
  mix-blend-mode:screen; opacity:0;
  animation: glitch .6s ease-in-out forwards;
}
@keyframes glitch{
  0%{opacity:0; transform:scale(1)}
  20%{opacity:.8; transform:scale(1.02) translateX(-4px)}
  45%{opacity:1; transform:scale(1.04) translateX(7px)}
  70%{opacity:.9; transform:scale(1.01)}
  100%{opacity:0}
}

/*! =========================
   Секции (без «полос»)
   ========================= */
.oc-section{
  position:relative;
  padding-block:96px;
  scroll-margin-top:96px;
}
@media (min-width:768px){
  .oc-section{ padding-block:120px; scroll-margin-top:110px; }
}
/* полностью отключаем любые растушёвки, если они когда-то появятся */
.oc-section::before, .oc-section::after{ content:none !important; display:none !important; background:none !important; }

/*! =========================
   Holographic Prism Cards
   ========================= */

/* поддержка анимируемого угла */
@property --ang { syntax: '<angle>'; inherits: false; initial-value: 0deg; }

/* 3D-контейнер */
.hcard3d{
  perspective: 1000px;
  transform-style: preserve-3d;
}

/* карточка не должна клипать тени */
.hcard{
  position: relative;
  border-radius: 22px;

  /* курсор/наклон */
  --mx: 50%; --my: 50%;
  --dx: 0px; --dy: 0px;

  /* без «мыла» и клиппинга */
  transform-style: preserve-3d;
  will-change: transform;
  isolation: isolate;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;

  /* тени выходят наружу */
  overflow: visible;
}

/* общие GPU-подсказки */
.hcard,
.hcard3d{
  backface-visibility: hidden;
  transform: translateZ(0);
  will-change: transform;
}

/* декоративные слои не перехватывают события */
.hcard-engrave,
.hcard-shard,
.hcard-shine,
.hcard-scan{
  pointer-events: none;

  /* !!! убрали contain: paint; чтобы не резало эффекты */
  /* contain: layout style;  — можно оставить, если нужно, но не paint */
  transform-style: preserve-3d;
  will-change: transform;
  isolation: isolate;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;

  overflow: visible;
}

/* вместо filter: drop-shadow — тень на body */
.hcard:hover{
  filter: none;
}

/* усилили тень на внутреннем слое */
.hcard-body{
  position: relative;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.045));
  backdrop-filter: blur(12px);

  /* было: box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08); */
  box-shadow:
    0 18px 40px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.08);

  overflow: hidden;
}

/* на ховере — чуть сильнее тень именно у body */
.hcard:hover .hcard-body{
  box-shadow:
    0 26px 56px rgba(0,0,0,.42),
    inset 0 1px 0 rgba(255,255,255,.10);
}

/* перестраховка — секции не должны скрывать тени детей */
.oc-section{ overflow: visible; }


/* стеклянная подложка */
.hcard-body{
  position:relative;
  border-radius:inherit;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.045));
  backdrop-filter: blur(12px);
  box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  overflow:hidden;
  z-index:1;
}

/* микро-гравировка */
.hcard-engrave{
  position:absolute; inset:0; pointer-events:none;
  background:
    linear-gradient(transparent,transparent calc(100% - 1px), rgba(255,255,255,.08) 0),
    linear-gradient(90deg, transparent,transparent calc(100% - 1px), rgba(255,255,255,.08) 0);
  background-size:18px 18px, 18px 18px;
  opacity:.06; z-index:1;
}



/*! =========================
   СЕКЦИОННЫЕ ТЕМЫ (градиенты)
   ========================= */

/* Motion Design (фиолетово-розовый с мягким синим) */
.service-motion {
  --acc1: 139 92 246;   /* violet-500 */
  --acc2: 236 72 153;   /* pink-500 */
  --acc3: 56 189 248;   /* sky-400 */
}

/* Graphic Design (зелёный с лаймом и бирюзой) */
.service-graphic {
  --acc1: 34 197 94;    /* green-500 */
  --acc2: 132 204 22;   /* lime-500 */
  --acc3: 45 212 191;   /* teal-400 */
}

/* Web Design (синий + голубой + фиолетовый) */
.service-web {
  --acc1: 59 130 246;   /* blue-500 */
  --acc2: 56 189 248;   /* sky-400 */
  --acc3: 168 85 247;   /* purple-500 */
}

/* Development (оранжевый с янтарным и розовым) */
.service-dev {
  --acc1: 249 115 22;   /* orange-500 */
  --acc2: 234 179 8;    /* amber-400 */
  --acc3: 236 72 153;   /* pink-500 */
}

/* Digital Printing (розовый + красный + фиолетовый) */
.service-printing {
  --acc1: 236 72 153;   /* pink-500 */
  --acc2: 239 68 68;    /* red-500 */
  --acc3: 168 85 247;   /* purple-500 */
}


/*! =========================
   Поддержка 3-цветных градиентов
   ========================= */
.bg-acc-grad {
  background: linear-gradient(
    135deg,
    rgb(var(--acc1)),
    rgb(var(--acc2)),
    rgb(var(--acc3, var(--acc2)))
  );
}



/*! ===== ПЛАВНАЯ ЦВЕТНАЯ РАМКА (OKLCH) ===== */
@supports (background: conic-gradient(in oklch, red, blue)) {
  .hcard::before{
    content:"";
    position:absolute; inset:0; padding:var(--ring-w); border-radius:inherit; z-index:0;
    background:
      conic-gradient(in oklch from var(--ang,0deg) at 50% 50%,
        /* много мягких промежуточных стопов по кругу */
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha)) 100%, rgb(var(--acc2) / var(--holo-alpha))   0%)  0turn,
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha))  75%, rgb(var(--acc2) / var(--holo-alpha))  25%) .16turn,
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha))  55%, rgb(var(--acc2) / var(--holo-alpha))  45%) .33turn,
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha))  30%, rgb(var(--acc2) / var(--holo-alpha))  70%)  .5turn,
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha))  55%, rgb(var(--acc2) / var(--holo-alpha))  45%) .66turn,
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha))  75%, rgb(var(--acc2) / var(--holo-alpha))  25%) .84turn,
        color-mix(in oklch, rgb(var(--acc1) / var(--holo-alpha)) 100%, rgb(var(--acc2) / var(--holo-alpha))   0%)  1turn
      ),
      radial-gradient(140% 120% at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .06) 0%, rgb(var(--acc2) / .05) 40%, transparent 68%);
    /* вырезаем центр — оставляем «кольцо» */
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    mask-composite: exclude;        /* стандарт */
    -webkit-mask-composite: xor;    /* Safari */
    filter: saturate(120%);
    animation: holo-rotate var(--holo-speed) linear infinite;
    transition: filter .35s ease, opacity .35s ease;
  }
}
@keyframes holo-rotate{ to{ --ang: 360deg; } }

/* ===== Фолбэк для старых браузеров (sRGB, но плотные стопы) ===== */
@supports not (background: conic-gradient(in oklch, red, blue)) {
  .hcard::before{
    content:"";
    position:absolute; inset:0; padding:var(--ring-w); border-radius:inherit; z-index:0;
    background:
      conic-gradient(from var(--ang,0deg) at 50% 50%,
        rgb(var(--acc1) / var(--holo-alpha)) 0deg,
        rgb(var(--acc1) / var(--holo-alpha)) 40deg,
        rgb(var(--acc2) / var(--holo-alpha)) 120deg,
        rgb(var(--acc2) / var(--holo-alpha)) 200deg,
        rgb(var(--acc1) / var(--holo-alpha)) 280deg,
        rgb(var(--acc1) / var(--holo-alpha)) 360deg
      ),
      radial-gradient(140% 120% at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .06) 0%, rgb(var(--acc2) / .05) 40%, transparent 68%);
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    mask-composite: exclude; -webkit-mask-composite: xor;
    filter: saturate(120%);
    animation: holo-rotate var(--holo-speed) linear infinite;
    transition: filter .35s ease, opacity .35s ease;
  }
}

/* мягкий «shine» */
.hcard-shine{
  position:absolute; inset:0; border-radius:inherit; pointer-events:none; z-index:2;
  mix-blend-mode: screen; opacity:0; transition: opacity .35s ease-out;
  background:
    radial-gradient(160px 110px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.18), transparent 60%),
    radial-gradient(260px 200px at calc(var(--mx,50%) + 10%) calc(var(--my,50%) + 6%), rgba(255,255,255,.07), transparent 60%);
}
.hcard:hover .hcard-shine{ opacity:.14; }

/* осколки с параллаксом */
.hcard-shard{
  position:absolute; border-radius:24px; filter: blur(18px); opacity:.75; pointer-events:none;
  transition: opacity .2s ease-out; z-index:1;
}
.hcard:hover .hcard-shard{ opacity:.9; }
.hcard-shard.a{
  inset:auto auto 15% -10%; width:46%; height:46%;
  background: radial-gradient(60% 60% at 40% 50%, rgb(var(--acc1) / .16), transparent 60%);
  transform: translate3d(calc(var(--dx)*.15), calc(var(--dy)*.15), 0);
}
.hcard-shard.b{
  inset:-12% -8% auto auto; width:38%; height:38%;
  background: radial-gradient(60% 60% at 60% 50%, rgb(var(--acc2) / .14), transparent 60%);
  transform: translate3d(calc(var(--dx)*.30), calc(var(--dy)*.30), 0);
}

/* сканлайн при ховере */
.hcard-scan{
  position:absolute; inset:-20% -30%; z-index:2;
  background: linear-gradient(180deg, transparent 0%, rgba(255,255,255,.12) 50%, transparent 100%);
  transform: translateY(-100%); opacity:0; pointer-events:none;
}
.hcard:hover .hcard-scan{ animation: hc-scan 2.4s ease-in-out 1; opacity:1; }
@keyframes hc-scan{ 0%{transform:translateY(-100%)} 100%{transform:translateY(100%)} }

/* «чип» */
.hcard-chip{
  position:absolute; top:12px; right:12px; width:26px; height:18px; border-radius:4px; z-index:3;
  background:
    linear-gradient(135deg, rgba(255,255,255,.5), rgba(255,255,255,.15)),
    linear-gradient(180deg, rgba(0,0,0,.2), rgba(255,255,255,.2));
  border:1px solid rgba(255,255,255,.3);
  box-shadow: 0 2px 8px rgba(0,0,0,.35);
  opacity:.9;
}

/* слои контента (деликатный параллакс) */
.hcard-layer{ will-change: transform; transform:translate3d(0,0,0); z-index:3; }
.hcard-ico{ --z:26px; }
.hcard-ttl{ --z:18px; }
.hcard-dsc{ --z:12px; }
.hcard-cta{ --z:16px; }
.hcard-layer{
  transform: translate3d(
    calc(var(--dx,0px) * .025),
    calc(var(--dy,0px) * .025),
    var(--z,0px)
  );
}

/* актив-состояние (клик) */
.hcard.hcard-pressed{
  transition: transform .08s ease;
  transform: rotateX(var(--rx)) rotateY(var(--ry)) scale(.995);
}

/* типографика карточки */
.hcard-title{ font-weight:700; letter-spacing:.2px; }
.hcard-desc{ color: rgb(212 212 216); font-size:.92rem; }
.hcard-cta{ font-size:.88rem; text-decoration:underline; text-underline-offset:4px; opacity:.9; }
.hcard:hover .hcard-cta{ opacity:1; }

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .hcard{ transform:none !important; }
  .hcard-layer{ transform:none !important; }
  .hcard::before{ animation:none !important; }
  .hcard-shine, .hcard-scan{ display:none !important; }
}


/*! === Accent utilities (общие для страниц услуг) ===
   --acc1 и --acc2 приходят как "r g b" (например "168 85 247") */

:root {
  --acc1: 56 189 248;
  --acc2: 168 85 247;
}

/* Текст/градиент/бордер по акценту */
.text-acc1 { color: rgb(var(--acc1)); }
.text-acc2 { color: rgb(var(--acc2)); }

.bg-acc-grad {
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
}

.border-acc2 {
  border-color: rgb(var(--acc2) / .35);
}

/* Чуть мягче ховер на градиенте */
.bg-acc-grad:hover {
  filter: brightness(1.06);
}









/*! ===== PricingCard — видимая рамка + градиентная обводка ===== */


.prx-card{
  position: relative;
  border-radius: 1rem;
  border: 1px solid rgba(255,255,255,.06);
  transition: transform .24s ease, box-shadow .24s ease, background .24s ease;

  /* толщина и вынос кольца наружу */
  --ring-w: 2px;                           /* базовая толщина */
  --ring-inset: calc(-1 * var(--ring-w));  /* слегка за пределы карточки */
}

/* на hover — мягкий подъём и более толстая рамка */
.hcard:hover .prx-card{
  transform: translateY(-4px);
  box-shadow:
    0 12px 28px rgba(0,0,0,.32),
    0 0 0 1px rgba(255,255,255,.10) inset;

  --ring-w: 3.5px;
  --ring-inset: calc(-1 * var(--ring-w));
}

/* цветная градиентная обводка поверх ВСЕГО контента */
.prx-outline{
  position: absolute;
  inset: var(--ring-inset);
  padding: var(--ring-w);
  border-radius: inherit;
  pointer-events: none;

  /* главное — поднять над hcard-engrave / shine / орбитами */
  z-index: 40;

  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  filter: saturate(115%);

  /* вырезаем центр — оставляем только «кольцо» */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;

  /* слегка видна даже без hover */
  opacity: .38;
  transition: opacity .22s ease, filter .22s ease;
}

.hcard:hover .prx-outline{
  opacity: .96;
  filter: saturate(125%) drop-shadow(0 0 10px rgb(var(--acc2) / .22));
}

/* видимость при фокусе с клавиатуры */
.hcard:focus-within .prx-outline{
  opacity: .98;
}





/*! === Elevation + Neon outline (fix blur) === */
@property --ang { syntax: '<angle>'; inherits: false; initial-value: 0deg; }
@keyframes prc-spin { to { --ang: 360deg; } }

.prc-card{
  border-radius: inherit;
  /* создаём отдельный слой и отключаем «мыло» на анимации */
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform;
  transition:
    transform .22s cubic-bezier(.2,.6,.2,1),
    box-shadow .22s ease;
}

/* мягкий подъём БЕЗ scale (который даёт размытие) */
.hcard:hover .prc-card{
  transform: translate3d(0,-4px,0);
  box-shadow: 0 16px 40px rgba(0,0,0,.30);
}

/* неоновая рамка по контуру */
.prc-ring{
  position:absolute; inset:0; padding:1px; border-radius: inherit;
  pointer-events:none; z-index:1;
  background:
    conic-gradient(from var(--ang,0deg) at 50% 50%,
      rgb(var(--acc1)) 0turn,
      color-mix(in oklch, rgb(var(--acc1)) 45%, rgb(var(--acc2)) 55%) .25turn,
      rgb(var(--acc2)) .5turn,
      color-mix(in oklch, rgb(var(--acc2)) 45%, rgb(var(--acc1)) 55%) .75turn,
      rgb(var(--acc1)) 1turn);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  filter: saturate(118%);
  opacity: 0;
  transition: opacity .25s ease;
}
.hcard:hover .prc-ring{ opacity:.9; animation: prc-spin 6s linear infinite; }

/* мягкий spotlight за курсором (чуть приглушил, чтобы не «мылил» белый текст) */
.prc-spot{
  position:absolute; inset:0; border-radius: inherit; pointer-events:none; z-index:0;
  background:
    radial-gradient(180px 140px at var(--mx,50%) var(--my,50%), rgb(var(--acc2) / .14), transparent 60%),
    radial-gradient(280px 220px at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .09), transparent 70%);
  mix-blend-mode: screen;
  filter: saturate(140%);
  opacity: 0;
  transition: opacity .12s ease;
}
.hcard:hover .prc-spot{ opacity:.7; }

/* кнопка — лёгкий подъём и подсветка */
.btn-elev{
  transition: transform .18s cubic-bezier(.2,.6,.2,1), box-shadow .18s ease, filter .18s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
.btn-elev:hover{
  transform: translateY(-3px);
  box-shadow: 0 12px 28px rgba(0,0,0,.35), 0 0 0 1px rgb(var(--acc2) / .25) inset;
  filter: saturate(108%);
}





/*! =========================
   CTA button on PricingCard
   ========================= */
.btn-elev{
  position: relative;
  overflow: hidden;                 /* для блика */
  border-radius: 0.75rem;           /* совпадает с rounded-xl */
  transform: translateZ(0);
  background-size: 160% 160%;       /* чтобы можно было чуть «плавать» градиентом */
  transition:
    transform .22s ease,
    box-shadow .22s ease,
    background-position .6s ease;
  will-change: transform, box-shadow, background-position;
}

/* лёгкий подъём и мягкая тень */
.btn-elev:hover{
  transform: translateY(-3px);
  box-shadow:
    0 10px 24px rgb(var(--acc2) / .35),
    0 1px 0 rgb(255 255 255 / .20) inset;
  background-position: 70% 0;       /* едва сдвигаем градиент */
}

/* короткая реакция на клик */
.btn-elev:active{
  transform: translateY(-1px) scale(.99);
  transition-duration: .08s;
}

/* доступный фокус */
.btn-elev:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px rgb(255 255 255 / .35),
    0 0 0 6px rgb(var(--acc2) / .35);
}



@keyframes btnSheen{
  to { transform: rotate(20deg) translateX(55%); }
}





/*! =========================
   PricingCard FX — Orbital Spheres (как были)
   ========================= */
.pcx-layers{ position:absolute; inset:0; pointer-events:none; z-index:3; }

.pcx-orbits{
  position:absolute; inset:0;
  transform: translate3d(var(--gx,0px), var(--gy,0px), 0);
  transition: transform .2s ease-out;
  filter: saturate(130%);
  will-change: transform;
}

.pcx-orbit{
  position:absolute; left:50%; top:50%;
  width:12px; height:12px; border-radius:999px;
  mix-blend-mode:screen; opacity:0; transition:opacity .25s ease;
  background: radial-gradient(circle at 50% 50%, #fff 0 35%, rgb(var(--acc2)) 60%, transparent 62%);
  box-shadow:
    0 0 8px rgb(var(--acc2) / .9),
    0 0 18px rgb(var(--acc1) / .7);
  transform: translateZ(0);
  will-change: transform;
  animation: pcx-orbit-rot 8s linear infinite;
  animation-play-state: paused;
}
.hcard:hover .pcx-orbit{ opacity:1; animation-play-state: running; }

.pcx-orbit.a{
  transform-origin: -120px -60px;
  animation-duration: 7s;
}
.pcx-orbit.b{
  transform-origin: 110px -15px;
  animation-direction: reverse;
  animation-duration: 9.5s;
  width:10px; height:10px;
  filter: saturate(140%);
}
.pcx-orbit.c{
  transform-origin: -40px 110px;
  animation-duration: 12s;
  width:14px; height:14px;
  box-shadow:
    0 0 10px rgb(var(--acc1) / .85),
    0 0 20px rgb(var(--acc2) / .65);
  background: radial-gradient(circle at 50% 50%, #fff 0 35%, rgb(var(--acc1)) 60%, transparent 62%);
}
@keyframes pcx-orbit-rot{
  from{ transform: rotate(0deg); }
  to  { transform: rotate(360deg); }
}

/* Ripple */
.pcx-ripple{
  position:absolute; inset:0; pointer-events:none; opacity:0;
  background:
    radial-gradient(120px 90px at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .30), transparent 60%),
    radial-gradient(200px 150px at var(--mx,50%) var(--my,50%), rgb(var(--acc2) / .22), transparent 70%);
  transform: scale(.7);
  animation: pcx-ripple 680ms cubic-bezier(.2,.6,.25,1) 1;
}
@keyframes pcx-ripple{
  0%   { opacity:0; transform: scale(.7); }
  12%  { opacity:.85; }
  100% { opacity:0; transform: scale(1.25); }
}

/* Бейдж */
.recommend-badge{
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  color:#fff; position:relative; overflow:hidden;
  transition: transform .3s ease, box-shadow .3s ease;
  background-size:200% 200%;
  animation: shimmer 4s linear infinite;
}
.recommend-badge:hover{
  transform: scale(1.05);
  box-shadow: 0 0 15px rgb(var(--acc2) / .6), 0 0 30px rgb(var(--acc1) / .4);
}
@keyframes shimmer{
  0%{ background-position:0% 50%; }
  50%{ background-position:100% 50%; }
  100%{ background-position:0% 50%; }
}








/*! ===== Hero ring 3D lift (tuned softer) ===== */
.hero-card .hcard-scan{ display:none !important; } /* скан не мешает */

.hero-stage{
  /* меньше «глубины» — эффект мягче */
  perspective: 1400px;                 /* было 1000px */
  transform-style: preserve-3d;
}

.hero-ring-wrap{
  transform-style: preserve-3d;        /* для translateZ */
}

.hero-ring{
  position:absolute; inset:0; border-radius:9999px;
  transform: translateZ(0);            /* в покое — на карточке */
  transition:
    transform .35s cubic-bezier(.22,.8,.2,1),
    opacity   .30s ease,
    filter    .30s ease;
  will-change: transform, opacity, filter;
}

/* деликатная эллиптическая тень под кольцом */
.hero-ring-shadow{
  position:absolute; left:14%; right:12%; bottom:9%;
  height:18%; border-radius:50%;
  background: radial-gradient(60% 90% at 50% 30%, rgba(0,0,0,.28), transparent 65%);
  filter: blur(14px);                   /* было 18px */
  opacity:0;
  transform: translate(0,0) scale(1);
  transition: opacity .30s ease, transform .30s ease;
  pointer-events:none;
}

/* ── эффект «оторвалось» — теперь мягче ── */
.hero-card:hover .hero-ring{
  transform:
    translate3d(var(--dx,0px), var(--dy,0px), 64px)  /* было 120px */
    rotateX(var(--rx,0deg)) rotateY(var(--ry,0deg))
    scale(1.01);                                    /* было 1.02 */
  opacity:.44;                                      /* было .45 */
}

.hero-card:hover .hero-ring-shadow{
  opacity:.42;                                      /* было .62 */
  transform: translate(var(--dx,0px), var(--dy,0px)) scale(1.06); /* было 1.12 */
}

/* reduce-motion: тоже мягче */
@media (prefers-reduced-motion: reduce){
  .hero-card:hover .hero-ring{
    transform: translate3d(0,0,56px) scale(1.01);   /* было 110px */
  }
  .hero-card:hover .hero-ring-shadow{
    opacity:.40; transform: scale(1.05);
  }
}







/*! =========================
   HERO metrics — visible outline hover (pro-clean)
   ========================= */
.hero-metrics{ --tile-r:18px; }

.hero-metrics .metric{
  position: relative;
  border-radius: var(--tile-r);
  padding: 14px 16px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    0 6px 18px rgba(0,0,0,.18);
  backdrop-filter: blur(6px);
  transition:
    transform .18s ease,
    box-shadow .18s ease,
    border-color .18s ease,
    background .18s ease,
    filter .18s ease;
  outline: none;
  overflow: hidden;   /* клип подсветки */
  isolation: isolate; /* корректное смешение слоёв */
}

/* число — аккуратный акцент-градиент */
.hero-metrics .metric__num{
  font-size: 1.125rem; /* text-lg */
  font-weight: 700;
  background: linear-gradient(135deg, rgb(var(--acc2)), rgb(var(--acc1)));
  -webkit-background-clip: text;
          background-clip: text;
  color: transparent;
  transition: filter .18s ease;
}

.hero-metrics .metric__label{
  margin-top: 6px;
  font-size: .92rem;
  line-height: 1.35rem;
  color: rgba(255,255,255,.74);
  transition: color .18s ease;
}

/* Внутренняя мягкая подсветка — появляется на hover */
.hero-metrics .metric::after{
  content:"";
  position:absolute; inset:1px;
  border-radius: calc(var(--tile-r) - 1px);
  pointer-events:none;
  opacity:0;
  transition: opacity .18s ease;
  /* лёгкая акцентная вуаль внутри плитки */
  background:
    radial-gradient(140% 100% at 80% -10% , rgb(var(--acc2) / .12), transparent 55%),
    radial-gradient(100% 140% at -10% 100%, rgb(var(--acc1) / .10), transparent 55%);
  mix-blend-mode: screen;
}

/* Внешнее тонкое «кольцо-бордер» 2px — на hover */
.hero-metrics .metric::before{
  content:"";
  position:absolute; inset:-2px;
  border-radius: calc(var(--tile-r) + 2px);
  pointer-events:none;
  box-shadow: 0 0 0 0 rgba(0,0,0,0); /* базово скрыто */
  transition: box-shadow .18s ease;
}

/* HOVER / FOCUS — заметное, но чистое выделение */
.hero-metrics .metric:hover,
.hero-metrics .metric:focus-visible{
  transform: translateY(-2px) scale(1.01);
  border-color: rgb(var(--acc2) / .55);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  box-shadow:
    0 10px 28px rgba(0,0,0,.26);
}

.hero-metrics .metric:hover::before,
.hero-metrics .metric:focus-visible::before{
  box-shadow: 0 0 0 2px rgb(var(--acc2) / .42); /* видимая обводка */
}

.hero-metrics .metric:hover::after,
.hero-metrics .metric:focus-visible::after{
  opacity: 1; /* мягкая внутренняя подсветка */
}

.hero-metrics .metric:hover .metric__num,
.hero-metrics .metric:focus-visible .metric__num{
  filter: saturate(135%); /* цифра чуть насыщеннее */
}

.hero-metrics .metric:hover .metric__label,
.hero-metrics .metric:focus-visible .metric__label{
  color: rgba(255,255,255,.86);
}

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .hero-metrics .metric:hover,
  .hero-metrics .metric:focus-visible{ transform:none; }
}






/*! =========================
   HERO card — ultra subtle highlight
   ========================= */
.hero-card .hcard-scan{ display:none !important; }

.hero-card{
  position: relative;
  border-radius: 22px;
  transform: translateZ(0);
  transition: transform .34s cubic-bezier(.2,.6,.2,1), filter .34s ease;
}

/* тонкое акцентное кольцо по периметру (покажем только на hover) */
.hero-card::before{
  content:"";
  position:absolute; inset:0; padding:1px; border-radius:inherit;
  background: linear-gradient(135deg, rgb(var(--acc1) / .45), rgb(var(--acc2) / .45));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  opacity: 0;
  transition: opacity .34s ease;
  pointer-events: none;
}

/* очень мягкая внутренняя вуаль */
.hero-card::after{
  content:"";
  position:absolute; inset:2px; border-radius:inherit; pointer-events:none;
  background:
    radial-gradient(80% 70% at 80% 15%, rgb(var(--acc1) / .10), transparent 62%),
    radial-gradient(70% 80% at 15% 85%, rgb(var(--acc2) / .08), transparent 62%);
  mix-blend-mode: screen;
  opacity: 0;
  transition: opacity .34s ease;
}

/* базовая «стеклянная» подложка — плавные изменения */
.hero-card .hcard-body{
  transition: box-shadow .34s ease, background .34s ease, border-color .34s ease;
}

@media (hover:hover){
  .hero-card:hover{
    transform: translateY(-2px); /* едва заметный подъём */
  }
  .hero-card:hover .hcard-body{
    background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.035));
    box-shadow:
      0 10px 26px rgba(0,0,0,.28),
      inset 0 1px 0 rgba(255,255,255,.08);
  }
  .hero-card:hover::before{ opacity:.28; } /* лёгкая обводка */
  .hero-card:hover::after { opacity:.22; } /* деликатная вуаль */
}

/* уважение к reduce motion */
@media (prefers-reduced-motion: reduce){
  .hero-card{ transition: filter .2s ease; }
  .hero-card:hover{ transform:none; }
}






/* HERO / CTA кнопка (primary) – теперь 3 цвета */
.btn-acc-primary,
.cta3-button {
  background: linear-gradient(
    135deg,
    rgb(var(--acc1)),
    rgb(var(--acc2)),
    rgb(var(--acc3, var(--acc2)))
  );
}

/* Переливающийся бейдж "Рекомендуем" — с читаемым текстом и сохранённой анимацией */
.recommend-badge{
  position: relative;
  overflow: hidden;

  /* фон и shimmer */
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  background-size: 200% 200%;
  animation: shimmer 4s linear infinite;

  /* текст — мягко читаемый */
  color: #fff;
  font-size: 13px;
  font-weight: 700;
  letter-spacing: .02em;
  text-shadow:
    0 1px 1px rgba(0,0,0,.35),
    0 0 8px rgba(0,0,0,.18);

  /* контур/глубина бейджа */
  border: 1px solid rgba(255,255,255,.22);
  box-shadow:
    0 4px 12px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.06) inset,
    0 0 12px color-mix(in oklch, rgb(var(--acc2)) 50%, transparent);

  /* спокойнее по насыщенности */
  filter: saturate(105%) contrast(1.02);

  transition:
    transform .3s ease,
    box-shadow .3s ease,
    filter .2s ease;
}

.recommend-badge:hover{
  filter: saturate(112%) contrast(1.05);
  box-shadow:
    0 6px 16px rgba(0,0,0,.38),
    0 0 0 1px rgba(255,255,255,.08) inset,
    0 0 14px rgb(var(--acc2) / .45);
}

/* если у тебя ещё нет такого блока — добавь */
@keyframes shimmer{
  0%   { background-position: 0%   50%; }
  50%  { background-position: 100% 50%; }
  100% { background-position: 0%   50%; }
}



.hlx-ico{
  /* было: linear-gradient(135deg, acc1/20, acc2/12) */
  background: linear-gradient(
    135deg,
    rgb(var(--acc1) / .20),
    rgb(var(--acc2) / .12),
    rgb(var(--acc3, var(--acc2)) / .10)
  );
}



/*! =========================
   HERO buttons — ultra subtle lift
   ========================= */
.btn-acc{
  position:relative;
  display:inline-flex; align-items:center; justify-content:center;
  padding:.625rem 1.15rem;             /* px-5 py-2.5 */
  border-radius:16px;
  font-weight:600; line-height:1;
  user-select:none;
  transition: transform .18s cubic-bezier(.2,.6,.2,1), box-shadow .18s ease, border-color .18s ease, background .18s ease;
  will-change: transform;
  outline: none;
}

/* Primary (градиент как был) */
.btn-acc-primary{
  color:#fff;
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  box-shadow: 0 4px 12px rgba(0,0,0,.16);
}
.btn-acc-primary:hover,
.btn-acc-primary:focus-visible{
  transform: translateY(-2px);
  box-shadow: 0 8px 18px rgba(0,0,0,.22);
}

/* Outline (контурная как была) */
.btn-acc-outline{
  color: rgb(var(--acc2));
  background: rgba(255,255,255,.02);
  border: 1px solid rgb(var(--acc2) / .55);
  box-shadow: 0 2px 8px rgba(0,0,0,.10) inset;
}
.btn-acc-outline:hover,
.btn-acc-outline:focus-visible{
  transform: translateY(-2px);
  background: rgba(255,255,255,.03);
  border-color: rgb(var(--acc2) / .70);
  box-shadow: 0 8px 18px rgba(0,0,0,.18);
}

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .btn-acc{ transition: box-shadow .18s ease, border-color .18s ease, background .18s ease; }
  .btn-acc:hover,.btn-acc:focus-visible{ transform:none; }
}





/*! ======================================
   ServiceHighlights — WOW-tiles (магнитный спотлайт + неоновая рамка + кометы)
   ====================================== */
@property --ang { syntax:'<angle>'; inherits:false; initial-value:0deg; }
@keyframes hlx-spin { to { --ang: 360deg; } }
@keyframes hlx-orbit {
  from { transform: rotate(0deg) translateX(var(--orbR,110px)) rotate(0deg); }
  to   { transform: rotate(360deg) translateX(var(--orbR,110px)) rotate(-360deg); }
}
@keyframes hlx-rip {
  0% { opacity:0; transform: scale(.7); }
  12%{ opacity:.9; }
  100%{ opacity:0; transform: scale(1.25); }
}

.hlx-grid { --tile-r:18px; }

.hlx-card{
  position: relative;
  border-radius: var(--tile-r);
  padding: 18px 18px 20px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    0 6px 20px rgba(0,0,0,.22);
  backdrop-filter: blur(6px);
  overflow: hidden;
  outline: none;
  transition:
    transform .22s cubic-bezier(.2,.6,.2,1),
    box-shadow .22s ease, border-color .22s ease, background .22s ease;
}

/* неоновая «рамка-кольцо» — появляется только на hover/focus */
.hlx-card::before{
  content:"";
  position:absolute; inset:0; padding:1px; border-radius:inherit;
  background:
    conic-gradient(from var(--ang,0deg) at 50% 50%,
      rgb(var(--acc1)) 0turn,
      color-mix(in oklch, rgb(var(--acc1)) 45%, rgb(var(--acc2)) 55%) .25turn,
      rgb(var(--acc2)) .5turn,
      color-mix(in oklch, rgb(var(--acc2)) 45%, rgb(var(--acc1)) 55%) .75turn,
      rgb(var(--acc1)) 1turn);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  filter: saturate(120%);
  opacity: 0;
  transition: opacity .25s ease;
}

/* FX слой */
.hlx-fx{ position:absolute; inset:0; pointer-events:none; z-index:1; }

/* магнитный спотлайт (следует за курсором) */
.hlx-spot{
  position:absolute; inset:0;
  background:
    radial-gradient(180px 140px at var(--mx,50%) var(--my,50%), rgb(var(--acc2) / .18), transparent 60%),
    radial-gradient(280px 220px at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .12), transparent 70%);
  mix-blend-mode: screen;
  filter: saturate(140%);
  opacity: 0;
  transition: opacity .15s ease;
}


/* ripple по клику из точки курсора */
.hlx-ripple{
  position:absolute; inset:0; opacity:0; pointer-events:none;
  background:
    radial-gradient(120px 90px at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .28), transparent 60%),
    radial-gradient(200px 150px at var(--mx,50%) var(--my,50%), rgb(var(--acc2) / .18), transparent 70%);
  transform: scale(.7);
  animation: hlx-rip 700ms cubic-bezier(.2,.6,.25,1) 1;
}

/* контент */
.hlx-ico{
  width:28px; height:28px; border-radius:10px;
  display:grid; place-items:center;
  color: rgb(var(--acc2));
  background: linear-gradient(135deg, rgb(var(--acc1) / .20), rgb(var(--acc2) / .12));
  border:1px solid rgba(255,255,255,.12);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
}
.hlx-desc{
  margin-top:.55rem;
  color: rgba(255,255,255,.72);
  line-height: 1.5;
}

/* hover/focus — всё очень плавно */
.hlx-card:hover,
.hlx-card:focus-visible{
  transform: translateY(-4px) scale(1.01);
  border-color: rgba(255,255,255,.18);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.10),
    0 14px 32px rgba(0,0,0,.30);
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035));
}
.hlx-card:hover::before,
.hlx-card:focus-visible::before{ opacity:.95; animation: hlx-spin 6s linear infinite; }
.hlx-card:hover .hlx-spot,
.hlx-card:focus-visible .hlx-spot{ opacity:.9; }
.hlx-card:hover .hlx-orbit,
.hlx-card:focus-visible .hlx-orbit{ opacity:1; }

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .hlx-card{ transition: box-shadow .22s ease, border-color .22s ease, background .22s ease; }
  .hlx-card:hover, .hlx-card:focus-visible{ transform:none; }
  .hlx-card::before{ animation:none !important; }
}










/*! =========================
   ServiceProcess — Flow track + neon outline cards
   ========================= */

/* Контейнер */
.proc-wrap{ --r:18px; position:relative; }

/* Трек под карточками */
.proc-track{
  position: relative;      /* ← вместо absolute */
  width: 100%;
  height: 12px;
  margin-top: 18px;        /* ← теперь под сеткой карточек */
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.08);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
  pointer-events:none;
}


/* Общие переменные тайминга для бегунка и заливки */
.proc-wrap{
  --proc-t: .55s;                              /* длительность анимации */
  --proc-ease: cubic-bezier(.22,.61,.36,1);    /* одинаковая функция плавности */
}


/* Заполнение трека — яркое и синхронное */
.proc-track .proc-fill{
  position:absolute;
  left:0;
  top:0;
  bottom:0;
  width: var(--p);
  border-radius: inherit;

  background: linear-gradient(90deg, rgb(var(--acc1)), rgb(var(--acc2)));
  opacity: 0.8;
  filter: saturate(160%) blur(0.5px);

  /* тот же тайминг, что у бегунка */
  transition: width var(--proc-t) var(--proc-ease);
  will-change: width;
}


/* Бегунок — исходный вид, но с общим таймингом */
.proc-track .proc-runner{
  position:absolute; top:50%;
  width:18px; height:18px; border-radius:999px;
  left: var(--p);
  transform: translate(-50%, -50%);
  background:
    radial-gradient(circle at 35% 35%, #fff 0 36%, rgb(var(--acc2)) 60%, transparent 62%);
  box-shadow:
    0 0 12px rgb(var(--acc2) / .85),
    0 0 28px rgb(var(--acc1) / .55);

  /* ключ: тот же тайминг, что у заливки */
  transition: left var(--proc-t) var(--proc-ease);
  will-change: left;
  pointer-events:none;
}




/* =============== */


/*! Сетка карточек */
.proc-grid{ position:relative; z-index:2; }

/* Карточка шага */
.proc-card{
  position:relative;
  border-radius: var(--r);
  padding: 18px 18px 20px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    0 6px 20px rgba(0,0,0,.22);
  backdrop-filter: blur(6px);
  outline: none;
  transform: translateZ(0);           /* слой без «мыла» */
  backface-visibility: hidden;
  will-change: transform, box-shadow, border-color, background;
  transition:
    transform .22s cubic-bezier(.2,.6,.2,1),
    box-shadow .22s ease, border-color .22s ease, background .22s ease;
}

/* Неоновая рамка по контуру (аналог метрик/hero) */
@property --ang { syntax:'<angle>'; inherits:false; initial-value:0deg; }
@keyframes proc-spin { to { --ang:360deg; } }

.proc-ring{
  content:"";
  position:absolute; inset:0; padding:1px; border-radius: inherit;
  background:
    conic-gradient(from var(--ang,0deg) at 50% 50%,
      rgb(var(--acc1)) 0turn,
      color-mix(in oklch, rgb(var(--acc1)) 45%, rgb(var(--acc2)) 55%) .25turn,
      rgb(var(--acc2)) .5turn,
      color-mix(in oklch, rgb(var(--acc2)) 45%, rgb(var(--acc1)) 55%) .75turn,
      rgb(var(--acc1)) 1turn);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  opacity:0; filter: saturate(118%);
  transition: opacity .25s ease;
  pointer-events:none;
}

/* Номер шага и описание */
.proc-num{
  font-size:.9rem;
  color: rgba(255,255,255,.55);
}
.proc-desc{
  margin-top:.35rem;
  color: rgba(255,255,255,.72);
  line-height: 1.45;
  font-size: .95rem;
}

/* Hover / focus — мягкий подъём, лёгкая подсветка и рамка */
.proc-card:hover,
.proc-card:focus-visible{
  transform: translateY(-6px);
  border-color: rgba(255,255,255,.18);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.10),
    0 16px 36px rgba(0,0,0,.30);
  background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.035));
}
.proc-card:hover .proc-ring,
.proc-card:focus-visible .proc-ring{ opacity:.95; animation: proc-spin 6s linear infinite; }

/* Motion-friendly */
@media (prefers-reduced-motion: reduce){
  .proc-card:hover, .proc-card:focus-visible{ transform:none; }
  .proc-ring{ animation:none !important; }
}






/*! ===== Service FAQ (аккуратный hover + плавное раскрытие) ===== */
.faq-list { background: linear-gradient(180deg, rgba(255,255,255,.035), rgba(255,255,255,.02)); }

/* элемент FAQ как «строка» с неоновой рамкой на hover/open */
.faq-item {
  position: relative;
  border-top: 1px solid rgba(255,255,255,.08);
}
.faq-item:first-child { border-top: 0; }

/* неоновая рамка */
@property --ang { syntax:'<angle>'; inherits:false; initial-value:0deg; }
@keyframes faq-spin { to { --ang:360deg; } }

.faq-item::before{
  content:"";
  position:absolute; left:8px; right:8px; top:6px; bottom:6px;
  padding:1px; border-radius:14px;
  background:
    conic-gradient(from var(--ang,0deg) at 50% 50%,
      rgb(var(--acc1)) 0turn,
      color-mix(in oklch, rgb(var(--acc1)) 45%, rgb(var(--acc2)) 55%) .25turn,
      rgb(var(--acc2)) .5turn,
      color-mix(in oklch, rgb(var(--acc2)) 45%, rgb(var(--acc1)) 55%) .75turn,
      rgb(var(--acc1)) 1turn);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  opacity:0; transition: opacity .25s ease;
  pointer-events:none;
  filter: saturate(120%);
}
.faq-item:hover::before,
.faq-item[open]::before{
  opacity:.9; animation: faq-spin 6s linear infinite;
}

/* строка-summary: спотлайт за курсором + very subtle glass */
.faq-summary{
  position: relative;
  border-radius: 14px;
  transition: background .2s ease, box-shadow .2s ease, transform .22s cubic-bezier(.2,.6,.2,1);
  outline: none;
  background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.015));
}
.faq-summary::after{
  content:"";
  position:absolute; inset:0; border-radius:inherit;
  background:
    radial-gradient(170px 130px at var(--mx,50%) var(--my,50%), rgb(var(--acc2) / .14), transparent 60%),
    radial-gradient(260px 200px at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .10), transparent 70%);
  mix-blend-mode: screen;
  opacity:0; transition: opacity .15s ease;
  pointer-events:none;
}
.faq-item:hover .faq-summary{ transform: translateY(-2px); box-shadow: 0 10px 26px rgba(0,0,0,.18); }
.faq-item:hover .faq-summary::after{ opacity:.95; }
.faq-summary:focus-visible{ box-shadow: 0 0 0 2px rgb(var(--acc2) / .45); }

/* chevron поворачивается */
.faq-item[open] .faq-chevron{ transform: rotate(180deg); }

/* плавное раскрытие ответа */
.faq-panel { background: transparent; }
.faq-item[open] .faq-panel{ grid-template-rows: 1fr; }

.faq-inner{ opacity: 0; transform: translateY(-6px); transition: opacity .3s ease, transform .3s ease; }
.faq-item[open] .faq-inner{ opacity: .9; transform: translateY(0); }

/* reduce motion */
@media (prefers-reduced-motion: reduce){
  .faq-summary{ transition: background .2s ease, box-shadow .2s ease; }
  .faq-item:hover .faq-summary{ transform:none; }
  .faq-item::before{ animation:none !important; }
}







/*! CTA */


/* =========================
   Contact v3 — плавная форма с прогресс-рейлом
   ========================= */

/* контейнер формы */
.cta3-card {
  position: relative;
  border-radius: 22px;
  padding: 18px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    0 12px 34px rgba(0,0,0,.28);
  backdrop-filter: blur(6px);
  overflow: hidden;
  isolation: isolate; /* чтобы внутренние эффекты не влияли на скролл */
}

/* сетка полей */
.cta3-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
@media (min-width: 900px) {
  .cta3-grid {
    grid-template-columns: 1fr 1fr;
  }
  .cta3-grid > .i2-field:nth-child(3),
  .cta3-grid > .i2-field:nth-child(4),
  .cta3-grid > .i2-field:nth-child(5) {
    grid-column: 1 / -1;
  }
}

/* поле с плавающим лейблом */
.i2-field {
  position: relative;
}
.i2-input {
  width: 100%;
  border-radius: 14px;
  padding: 18px 16px 16px;
  color: #fff;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.07);
  outline: none;
  transition: border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.i2-input:focus {
  border-color: rgb(var(--acc2) / .55);
  box-shadow: 0 0 0 2px rgb(var(--acc2) / .18);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.035));
}
.i2-label {
  position: absolute;
  left: 14px;
  top: 50%;
  transform: translateY(-50%);
  color: rgba(255,255,255,.56);
  pointer-events: none;
  transition: transform .18s ease, font-size .18s ease, top .18s ease, opacity .18s ease;
  background: transparent;
}
.i2-input:focus + .i2-label,
.i2-input:not(:placeholder-shown) + .i2-label {
  top: 6px;
  transform: translateY(0);
  font-size: 12px;
  opacity: .85;
}

/* область действия (кнопка + примечание) */
.cta3-actions {
  grid-column: 1 / -1;
  display: flex;
  gap: 14px;
  align-items: center;
  flex-wrap: wrap;
  margin-top: 4px;
}
.cta3-button {
  border: none;
  border-radius: 14px;
  padding: 12px 18px;
  font-weight: 600;
  color: #0b0b0c;
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
}
.cta3-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 24px rgb(var(--acc2) / .32);
  filter: brightness(1.03);
}
.cta3-button:active {
  transform: translateY(0);
  box-shadow: 0 4px 14px rgb(var(--acc2) / .28);
}
.cta3-note {
  color: rgba(255,255,255,.55);
  font-size: 12px;
}



/* на всякий случай — секция не «ломает» прокрутку */
.oc-section {
  overflow: visible;
}




/* скрываем нативную «красную» подсветку, всё контролируем сами */
.i2-input { box-shadow: inset 0 1px 0 rgba(255,255,255,.07); }
.i2-input:invalid { box-shadow: inset 0 1px 0 rgba(255,255,255,.07); border-color: rgba(255,255,255,.12); }

/* наш класс ошибки — только когда мы решим (touched && dirty && !valid) */
.i2-input.is-invalid {
  border-color: rgba(255, 99, 99, .7);
  box-shadow: 0 0 0 2px rgba(255, 99, 99, .18);
}
.i2-input.is-invalid + .i2-label {
  color: rgba(255, 160, 160, .85);
}

/* текст ошибки под полем */
.i2-msg {
  margin-top: 6px;
  font-size: 12px;
  line-height: 1.3;
  color: rgba(255, 160, 160, .95);
}


/* валидное поле */
.i2-input.is-valid {
  border-color: rgba(99, 220, 132, .75);
  box-shadow: 0 0 0 2px rgba(99, 220, 132, .25);
}
.i2-input.is-valid + .i2-label {
  color: rgba(160, 255, 180, .85);
}



/* верхний прогресс-бар */
.cta3-topbar { position:absolute; left:0; right:0; top:0; height:6px; background:rgba(255,255,255,.08); overflow:hidden; }
.cta3-topbar-fill { display:block; height:100%; width:calc(var(--fill, 0) * 100%); background:linear-gradient(90deg, rgb(var(--acc1)), rgb(var(--acc2))); transition:width .18s ease; }



/*! --- Scroll safety for service pages --- */

/* секции услуг не создают своих scroll-контейнеров */
.oc-section { overflow: visible; }

/* любые декоративные фикс-слои не должны перехватывать колесо */
.service-theme,
.service-theme * {
  pointer-events: none !important;
}

/* (на всякий случай) не вводим вложенных скроллов на main */
main { overscroll-behavior: auto; }



/* =========================
   Section Soft Gradient BG
   ========================= */
.section-soft {
  position: relative;
  isolation: isolate;        /* чтобы фон не смешивался с соседями */
}

/* нежные разнонаправленные пятна + лёгкая вуаль */
.section-soft::before {
  content: "";
  position: absolute;
  inset: -8%;
  z-index: -1;
  pointer-events: none;

  /* 3 мягких пятна на основе акцентов, c очень низкой непрозрачностью */
  background:
    radial-gradient(42% 38% at 18% 24%, rgb(var(--acc1) / .12), transparent 60%),
    radial-gradient(40% 40% at 82% 22%, rgb(var(--acc2) / .10), transparent 62%),
    radial-gradient(50% 50% at 64% 80%, rgb(var(--acc3, var(--acc2)) / .08), transparent 66%);
  filter: blur(70px) saturate(0.9) contrast(0.98);
  transform-origin: 50% 50%;
  animation: section-swim 60s linear infinite;
  opacity: .85;              /* общая «сила» фона; можно 0.7–0.9 */
}

/* еле заметный «шелк» поверх */
.section-soft::after {
  content: "";
  position: absolute;
  inset: -16%;
  z-index: -1;
  pointer-events: none;
  background: repeating-linear-gradient(
    125deg,
    rgba(255,255,255,.03) 0 2px,
    transparent 2px 12px
  );
  mix-blend-mode: overlay;
  opacity: .12;
  animation: section-sheen 18s ease-in-out infinite alternate;
}

@keyframes section-swim {
  0%   { transform: rotate(0deg) scale(1); }
  50%  { transform: rotate(180deg) scale(1.015); }
  100% { transform: rotate(360deg) scale(1); }
}
@keyframes section-sheen {
  0%   { transform: translate3d(-2%, -2%, 0); }
  100% { transform: translate3d( 2%,  2%, 0); }
}

/* уважение к reduce motion */
@media (prefers-reduced-motion: reduce){
  .section-soft::before,
  .section-soft::after { animation: none !important; }
}





/*! ==== Portfolio rail (soft, 2-cards view, snap) ==== */
.no-scrollbar::-webkit-scrollbar{ display:none; }
.no-scrollbar{ -ms-overflow-style: none; scrollbar-width: none; }

.pf-rail{
  display:flex; gap:16px;
  overflow-x:auto; overflow-y:visible;
  scroll-snap-type: x mandatory;
  scroll-padding: 24px;
  padding-inline: 4px;
  padding-bottom: 6px;
}

.pf-card{
  width: var(--cardW, clamp(280px, 46vw, 560px));
  flex: 0 0 var(--cardW, clamp(280px, 46vw, 560px));
}

/* мягкие градиентные края */
.pf-edges{ position:relative; }
.pf-edge{
  position:absolute; top:0; bottom:0; width:120px; z-index:10;
  pointer-events:none; transition: opacity .25s ease;
}
.pf-edge-left{
  left:0;
  background: linear-gradient(90deg, rgba(10,10,15,.85), rgba(10,10,15,0));
  mask: linear-gradient(90deg, #000, transparent);
}
.pf-edge-right{
  right:0;
  background: linear-gradient(270deg, rgba(10,10,15,.85), rgba(10,10,15,0));
  mask: linear-gradient(270deg, #000, transparent);
}

/*! стрелки-кнопки */
.pf-nav {
  display:grid; place-items:center;
  width:48px; height:48px; border-radius:999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(8px);
  transition: transform .18s ease, box-shadow .18s ease, opacity .2s ease;
}

.pf-nav:hover   { transform: scale(1.05); box-shadow: 0 16px 36px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.10); }
.pf-nav:active  { transform: scale(0.97); }

/* сама “стрелочка” окрашивается градиентом из переменных --acc1/--acc2 */
.pf-nav-ico{
  display:inline-block; font-size:22px; line-height:1;
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  -webkit-background-clip: text;
          background-clip: text;
  -webkit-text-fill-color: transparent; /* для Safari */
  
}







/*! === Portfolio cards (pf-*) — компактнее, с плавающей подписью ============= */

/*! === Portfolio cards (pf-*) — 3D + мягкие углы ============================ */

.no-scrollbar::-webkit-scrollbar{ display:none; }
.no-scrollbar{ -ms-overflow-style: none; scrollbar-width: none; }

/* Рельса */
.pf-rail{
  display:flex; gap:16px;
  overflow-x:auto; overflow-y:visible;
  scroll-snap-type: x mandatory;
  scroll-padding: 24px;
  padding-inline: 4px;
  padding-bottom: 6px;
  perspective: 1200px; /* 3D сцена */
}

/* Фикс-ширина карточки в рельсе */
.pf-card{
  width: var(--cardW, clamp(280px, 46vw, 560px));
  flex: 0 0 var(--cardW, clamp(280px, 46vw, 560px));
}

/* Стрелки */
.pf-nav{
  display:grid; place-items:center;
  width:42px; height:42px; border-radius:999px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(8px);
  transition: transform .18s ease, box-shadow .18s ease, opacity .2s ease;
}
.pf-nav:hover{ transform: scale(1.05); box-shadow: 0 16px 36px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.10); }
.pf-nav--bar{ position: static; } /* для нижней панели */
.pf-nav-left{ position:absolute; top:50%; left:10px; transform: translateY(-50%); }
.pf-nav-right{ position:absolute; top:50%; right:10px; transform: translateY(-50%); }
.pf-nav-ico{
  display:inline-block; font-size:22px; line-height:1;
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}

/* === Карточка ============================================================= */

@property --ang { syntax:'<angle>'; inherits:false; initial-value:0deg; }
@keyframes pf-spin { to { --ang:360deg; } }

.pf-card{
  position: relative;
  border-radius: 26px;                 /* мягкие углы */
  isolation: isolate;
  background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.10);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    0 12px 28px rgba(0,0,0,.30);
  overflow: hidden;                     /* обрезаем всё по радиусу */
  transform-origin: center center;
  transition: transform .22s cubic-bezier(.2,.6,.2,1), box-shadow .22s ease, border-color .22s ease;
}
.pf-card:hover{
  transform: translateY(-3px);
  border-color: rgba(255,255,255,.16);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.10),
    0 20px 44px rgba(0,0,0,.36);
}

/* Контур-кольцо */
.pf-ring{
  content:"";
  position:absolute; inset:0; padding:1.25px; border-radius:inherit; z-index:3; pointer-events:none;
  background:
    conic-gradient(from var(--ang,0deg) at 50% 50%,
      rgb(var(--acc1)) 0turn,
      color-mix(in oklch, rgb(var(--acc1)) 45%, rgb(var(--acc2)) 55%) .25turn,
      rgb(var(--acc2)) .5turn,
      color-mix(in oklch, rgb(var(--acc2)) 45%, rgb(var(--acc1)) 55%) .75turn,
      rgb(var(--acc1)) 1turn);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  opacity: 0;
  transition: opacity .25s ease;
}
.pf-card:hover .pf-ring{ opacity:.95; animation: pf-spin 7s linear infinite; }

/* Обложка */
.pf-cover{
  position: relative;
  aspect-ratio: 16/10;
  overflow: hidden;                     /* режем картинку */
  border-bottom: 1px solid rgba(255,255,255,.08);
  border-radius: inherit;               /* наследуем скругление */
}
.pf-img{
  width:100%; height:100%;
  object-fit: cover;
  transition: transform .45s cubic-bezier(.2,.6,.2,1), filter .3s ease;
}
.pf-card:hover .pf-img{ transform: scale(1.025); }

/* Оверлеи — тоже с радиусом карточки */
.pf-spot,
.pf-vignette{ position:absolute; inset:0; pointer-events:none; border-radius: inherit; }
.pf-spot{
  background:
    radial-gradient(180px 140px at var(--mx,50%) var(--my,50%), rgb(var(--acc2) / .16), transparent 60%),
    radial-gradient(280px 220px at var(--mx,50%) var(--my,50%), rgb(var(--acc1) / .10), transparent 70%);
  mix-blend-mode: screen;
  opacity: .85;
  transition: opacity .2s ease;
}
.pf-vignette{
  background: linear-gradient(180deg, transparent 45%, rgba(0,0,0,.45) 90%);
}

/* Подпись */
.pf-meta-on{
  position:absolute; left:10px; right:10px; bottom:10px; z-index:4;
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding: .6rem .65rem;
  border-radius: 16px;                  /* мягче таб */
  backdrop-filter: blur(8px);
  background: linear-gradient(180deg, rgba(12,12,14,.55), rgba(12,12,14,.35));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 8px 18px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
}

.pf-title{
  color:#fff; font-weight:700; font-size:1rem; line-height:1.2;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.pf-sub{
  margin-top:.1rem; font-size:.85rem; color: rgba(255,255,255,.70);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Заглушка */
.pf-nopreview{ position:absolute; inset:0; display:grid; place-items:center; color: rgba(255,255,255,.45); }

/* CTA */
.pf-cta{
  border:0; cursor:pointer;
  padding:.5rem .95rem; border-radius:14px;   /* мягче */
  font-weight:600; font-size:.9rem; color:#0b0b0c;
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  box-shadow: 0 8px 18px rgb(0 0 0 / .28);
  transition: transform .18s cubic-bezier(.2,.6,.2,1), box-shadow .18s ease, filter .18s ease;
}
.pf-cta:hover{ transform: translateY(-2px); box-shadow: 0 14px 30px rgb(0 0 0 / .36); filter: saturate(108%); }





/* контейнер-обёртка, которая сама ничего не клипает */
.pf-bleed-guard {
  position: relative;
  overflow: visible;             /* важно: видим «вылет» 3D-наклона */
}

/* при ховере карточка всегда выше соседей и служебных слоёв */
.pf-card { isolation: isolate; } /* собственный stacking context */
.pf-card:hover { z-index: 30; }  /* доп.страховка, дублируем из inline */


/* Оболочка для 3D-трансформа — НИКОГДА не клипает */
.pf-shell {
  position: relative;
  overflow: visible;
}

/* Вьюпорт-охранник: сам ничего не режет */
.pf-bleed-guard {
  position: relative;
  overflow: visible;
}

/* На всякий случай: при ховере поднимаем выше всего */
.pf-shell:hover { z-index: 50; }
.section-soft { overflow: visible; }





/*! ===== 360° панорама =================================================== */

.panorama{
  height: clamp(360px, 58vw, 640px);
  position: relative;
  perspective: 1200px;          /* создаём сцену */
  overflow: hidden;             /* «зал» */
  border-radius: 28px;
}

.panorama-stage{
  position: absolute;
  inset: 0;
  transform-style: preserve-3d; /* 3D для потомков */
  will-change: transform;
  cursor: grab;
}

/* Карточки по кольцу */
.ring-card{
  position: absolute;
  top: 50%;
  left: 50%;
  width: clamp(260px, 30vw, 420px);
  translate: -50% -50%;
  transform-style: preserve-3d;
}

/* Внутренний слой для 3D-тильта */
.pf-tilter{
  position: relative;
  inset: 0;
  transform-style: preserve-3d;
  transition: transform .22s cubic-bezier(.2,.6,.2,1);
  will-change: transform;
}

.pf-pop { transform: translateZ(28px); }



/*? ===== 360° сцена с BLEED (запасом) =============================== */
/* ===== Panorama scene ===== */
.pano{
  position: relative;
  margin: 0 auto;
  max-width: 1400px;
  height: clamp(420px, 58vh, 720px);
  overflow: visible;            /* ничего не режем */
  perspective: 1600px;          /* сцена для 3D */
  perspective-origin: 50% 40%;
  user-select: none;
}

/* Вся «сцена», которую поворачиваем камерой вокруг Y */
.pano-stage{
  position: relative;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
  /* камеру вращаем плавно анимацией из JS (переменная --theta) */
  transform: rotateY(var(--theta, 0rad));
  will-change: transform;
}

/* Карточка на круге */
.ring-card{
  position: absolute;
  top: 50%;
  left: 50%;
  transform-style: preserve-3d;
  /* translate/rotate/scale приходят inline через style */
  transition: transform 280ms cubic-bezier(.2,.7,.2,1), opacity 240ms ease;
  will-change: transform, opacity;
}

.ring-card-inner{
  position: relative;
  width: clamp(280px, 28vw, 520px);
  border-radius: 24px;
  overflow: hidden;                 /* обложка и подсветки внутри радиуса */
  background: linear-gradient(180deg, rgba(255,255,255,.055), rgba(255,255,255,.03));
  border: 1px solid rgba(255,255,255,.10);
  transition: transform 220ms cubic-bezier(.2,.7,.2,1), box-shadow .25s ease;
  isolation: isolate;
}

/* кольцо-подсветка по краю */
.ring-card .pf-ring{
  content:"";
  position:absolute; inset:0; padding:1.4px; border-radius:inherit; pointer-events:none;
  background: conic-gradient(from 0deg at 50% 50%,
    rgb(var(--acc1)) 0turn,
    color-mix(in oklch, rgb(var(--acc1)) 45%, rgb(var(--acc2)) 55%) .25turn,
    rgb(var(--acc2)) .5turn,
    color-mix(in oklch, rgb(var(--acc2)) 45%, rgb(var(--acc1)) 55%) .75turn,
    rgb(var(--acc1)) 1turn);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask: linear-gradient(#000 0 0) content-box,  linear-gradient(#000 0 0);
  -webkit-mask-composite: xor; mask-composite: exclude;
  opacity:.9;
}

/* обложка */
.pf-cover{ position: relative; aspect-ratio: 16/10; border-bottom: 1px solid rgba(255,255,255,.08); }
.pf-img{ width:100%; height:100%; object-fit:cover; transition: transform .45s cubic-bezier(.2,.6,.2,1); }
.ring-card-inner:hover .pf-img{ transform: scale(1.02); }

/* over-layers */
.pf-spot, .pf-vignette{ position:absolute; inset:0; pointer-events:none; border-radius: inherit; }
.pf-spot{
  background:
    radial-gradient(180px 140px at 50% 50%, rgb(var(--acc2) / .16), transparent 60%),
    radial-gradient(280px 220px at 50% 50%, rgb(var(--acc1) / .10), transparent 70%);
  mix-blend-mode: screen;
  opacity:.9;
}
.pf-vignette{ background: linear-gradient(180deg, transparent 45%, rgba(0,0,0,.45) 90%); }

/* подпись */
.pf-meta-on{
  position:absolute; left:10px; right:10px; bottom:10px; z-index:2;
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
  padding: .6rem .65rem;
  border-radius: 16px;
  backdrop-filter: blur(8px);
  background: linear-gradient(180deg, rgba(12,12,14,.55), rgba(12,12,14,.35));
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 8px 18px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
}
.pf-title{ color:#fff; font-weight:700; font-size:1rem; line-height:1.2; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.pf-sub{ margin-top:.1rem; font-size:.85rem; color: rgba(255,255,255,.70); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.pf-nopreview{ position:absolute; inset:0; display:grid; place-items:center; color: rgba(255,255,255,.45); }

.pf-cta{
  border:0; cursor:pointer;
  padding:.5rem .95rem; border-radius:14px;
  font-weight:600; font-size:.9rem; color:#0b0b0c;
  background: linear-gradient(135deg, rgb(var(--acc1)), rgb(var(--acc2)));
  box-shadow: 0 8px 18px rgb(0 0 0 / .28);
  transition: transform .18s cubic-bezier(.2,.6,.2,1), box-shadow .18s ease, filter .18s ease;
}
.pf-cta:hover{ transform: translateY(-2px); box-shadow: 0 14px 30px rgb(0 0 0 / .36); filter: saturate(108%); }

/* Контролы */
.pano-controls{
  position: absolute;
  left: 50%;
  bottom: clamp(8px, 2.2vh, 22px);
  transform: translateX(-50%);
  display:flex; gap:12px;
}
.pano-ctl{
  width:44px; height:44px; border-radius:999px;
  display:grid; place-items:center;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 10px 24px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(8px);
  color:#fff;
  transition: transform .18s ease, box-shadow .18s ease;
}
.pano-ctl:hover{ transform: translateY(-1px); box-shadow: 0 16px 36px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.10); }

/* Мобильные/узкие */
@media (max-width: 820px){
  .ring-card-inner{ width: clamp(260px, 70vw, 420px); }
  .pano{ height: clamp(420px, 65vh, 700px); }
}




/*? === FIX: правый край не сдвигается при 3D-ховере последней карточки === */

/* === ServicePortfolio viewport/track safety === */
:root { --pf-bleed: 40px; } /* значение по умолчанию, если компонент не подставит своё */

.pf-viewport{
  overflow-anchor: none;                 /* не «подпрыгиваем» при ховере правой карты */
  scrollbar-gutter: stable both-edges;   /* стабильные границы со скроллбаром */
}

.pf-track::after{
  /* невидимый спейсер справа — буфер под тени/тильт */
  content: "";
  flex: 0 0 var(--pf-bleed);
}



/* Подрезаем совсем чуть-чуть край вьюпорта, чтобы не было «выпирания» */

.pf-trim{
  --pf-trim: 8px;
  -webkit-mask-image: linear-gradient(
    90deg,
    transparent 0,
    #000 var(--pf-trim),
    #000 calc(100% - var(--pf-trim)),
    transparent
  );
          mask-image: linear-gradient(
    90deg,
    transparent 0,
    #000 var(--pf-trim),
    #000 calc(100% - var(--pf-trim)),
    transparent
  );
  /* -webkit-mask-mode: match-source;
          mask-mode: match-source; */
}

/* подстраховка для правого буфера */
:root { --pf-bleed: 40px; }
.pf-viewport { overflow-anchor: none; scrollbar-gutter: stable both-edges; }
.pf-track::after { content: ""; flex: 0 0 var(--pf-bleed); }





/** === Patch: убираем едва заметный «бортик» снизу из общей тени карт === */

/* вариант с мягкой глубиной, без «бортика» */
.pf-card{
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.08),
    0 6px 14px rgba(0,0,0,.12) !important; /* мягче и не даёт сплошной полосы */
}
.pf-card:hover{
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.10),
    0 10px 20px rgba(0,0,0,.16) !important;
}



/*! === Initial page reveal =============================================== */
/* На SSR body имеет класс .preload — всё скрыто. Видимых рывков при гидрации нет. */
/* ===== Initial page reveal: работает только для содержимого main ===== */
.preload main [data-reveal]{
  opacity:0 !important;
  transform: translateY(10px) scale(.998);
  filter: blur(8px);
}

.reveal-on main [data-reveal]{
  opacity:1;
  transform: translateY(0) scale(1);
  filter: blur(0);
  transition:
    opacity .66s cubic-bezier(.22,.6,.2,1),
    transform .66s cubic-bezier(.22,.6,.2,1),
    filter .66s ease;
  transition-delay: var(--reveal-delay, 0ms);
  will-change: opacity, transform, filter;
  backface-visibility: hidden;
}

/* поверхность для framer-motion (минимум стилей, чтобы не конфликтовать) */
.route-surface{
  will-change: opacity, transform, filter;
  transform: translateZ(0);
  backface-visibility: hidden;
}




/*! ==== Scrollbars guard (global) ==== */
html, body {
  min-height: 100%;
  overflow-x: clip; /* или hidden, если нужна совместимость со старыми браузерами */
}

/* Фоновый контейнер не должен влиять на поток и ширину страницы */
.oc-bg-root {
  width: 100%;
  height: 100%;
  /* фиксируем любые расширения из-за blur/filters на внутренних слоях */
  overflow: hidden;
  contain: paint;
}

/* Каждый слой фона придерживаем в рамках вьюпорта */
.oc-bg-layer {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

/* Если где-то используется 100vw — исключаем появление горизонтального скролла
   из-за ширины системного вертикального скроллбара */
* { box-sizing: border-box; }

/* (НЕ обязательно, но полезно) — запрещаем «прыжки» от transform/filters,
   которые могут «намекать» движку на расширение области рендеринга */
.oc-bg-layer,
.oc-bg-root {
  will-change: opacity, transform, filter;
}

/* Когда контента хватает, убираем вертикальный скролл полностью */
html.oc-no-vert-scroll,
body.oc-no-vert-scroll {
  overflow-y: hidden !important;
}

/* Оставляем защиту от горизонтального скролла (как ранее) */
html, body {
  overflow-x: clip; /* можно заменить на hidden при необходимости */
}



/*! Dashboard */

/* лёгкая сетка */
.bg-grid {
  background-image:
    linear-gradient(to right, rgba(255,255,255,.25) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.25) 1px, transparent 1px);
  background-size: 24px 24px;
}

/* шум */
.bg-noise {
  background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'>\
  <filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/></filter>\
  <rect width='100%' height='100%' filter='url(%23n)' opacity='.25'/></svg>");
  background-size: 300px 300px;
}

/* стеклянная карточка */
.glass {
  @apply bg-white/5 border border-white/10 backdrop-blur-xl shadow-[0_10px_40px_-15px_rgba(0,0,0,.6)];
  border-radius: 1.25rem;
}

/* кнопки */
.btn-primary {
  @apply inline-flex items-center gap-2 px-4 py-2 rounded-xl
         bg-white text-black font-medium hover:opacity-90 transition;
}
.btn-secondary {
  @apply inline-flex items-center gap-2 px-4 py-2 rounded-xl
         border border-white/20 bg-white/10 hover:bg-white/15 transition;
  color: rgba(255,255,255,.9);
}




/*! Chat */

/* ====== CHAT THEME UTILITIES ====== */
:root{
  --oc-glass: rgba(255,255,255,.72);
  --oc-glass-weak: rgba(255,255,255,.55);
  --oc-stroke: 0 0 0 1px rgba(15,18,20,.08) inset;
  --oc-shadow: 0 12px 40px -18px rgba(15,18,20,.35);
  --oc-soft: 0 8px 24px -16px rgba(15,18,20,.22);
  --oc-neon: 0 0 0 1px rgba(132,94,247,.18), 0 8px 30px -12px rgba(132,94,247,.45);
}

/* мягкая сетка + шум */
@layer utilities{
  .bg-grid {
    background-image:
      radial-gradient(transparent 1px, rgba(255,255,255,.08) 1px),
      linear-gradient(to bottom, rgba(255,255,255,.35), rgba(255,255,255,.18));
    background-size: 24px 24px, 100% 100%;
    background-position: -1px -1px, 0 0;
  }
  .bg-noise {
    background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120'><filter id='n'><feTurbulence baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='.03'/></svg>");
    background-size: 300px 300px;
  }

  /* поверхность ленты */
  .chat-surface {
    @apply rounded-2xl bg-white/60 backdrop-blur;
    box-shadow: var(--oc-soft);
  }

  /* стеклянные бабблы */
  .bubble-them{
    @apply bg-white/80 backdrop-blur border rounded-2xl text-gray-900;
    box-shadow: var(--oc-stroke), 0 10px 25px -18px rgba(0,0,0,.25);
  }
  .bubble-me{
    background: radial-gradient(120% 120% at 100% 0%, #1f2937 0%, #0b0b0b 40%) ,
                linear-gradient(90deg, rgba(120,73,255,.25), rgba(56,189,248,.2));
    @apply text-white rounded-2xl;
    box-shadow: var(--oc-neon);
  }

  /* чип-дата/индикаторы */
  .chip{
    @apply text-[11px] px-3 py-1 rounded-full border bg-white/80 text-gray-600;
    box-shadow: var(--oc-stroke);
  }

  /* аватар с градиентным кольцом */
  .avatar-ring{
    background:
      radial-gradient( circle at 30% 30%, rgba(255,255,255,.65), rgba(255,255,255,.45)),
      conic-gradient(from 180deg, #a78bfa, #60a5fa, #34d399, #a78bfa);
    padding: 2px; border-radius: 9999px;
  }

  /* кнопка отправки — неоновая */
  .btn-primary{
    background: linear-gradient(180deg, #0b0b0b, #111827);
    @apply text-white rounded-xl px-4 py-2 transition;
    box-shadow: var(--oc-neon);
  }
  .btn-primary:hover{ filter: brightness(1.06); }

  /* стеклянный инпут */
  .glass-input{
    @apply rounded-xl border bg-white/80 backdrop-blur overflow-hidden;
    box-shadow: var(--oc-stroke);
  }
}










/* ============ OC: utilities for subtle neon/dark-glass look ============ */
